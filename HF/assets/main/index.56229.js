window.__require=function t(e,o,n){function i(c,a){if(!o[c]){if(!e[c]){var s=c.split("/");if(s=s[s.length-1],!e[s]){var l="function"==typeof __require&&__require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+c+"'")}c=s}var p=o[c]={exports:{}};e[c][0].call(p.exports,function(t){return i(e[c][1][t]||t)},p,p.exports,t,e,o,n)}return o[c].exports}for(var r="function"==typeof __require&&__require,c=0;c<n.length;c++)i(n[c]);return i}({AdControl:[function(t,e,o){"use strict";cc._RF.push(e,"f682b9lJFVPC6qPxmzSfRGQ","AdControl");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.effectUid={},e.effectResources={},e.backgroundAudio=null,e.effectAudio=[],e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.init(),this.effectAudio.forEach(function(e,o){t.effectResources[e.name]=t.effectAudio[o]})},e.prototype.init=function(){cc.audioEngine.playMusic(this.backgroundAudio,!0),cc.audioEngine.setMusicVolume(1)},e.prototype.setBackgroundVolume=function(t){cc.audioEngine.setMusicVolume(t)},e.prototype.setEffectVolume=function(t){cc.audioEngine.setEffectsVolume(t)},e.prototype.playSound=function(t,e,o){void 0===o&&(o=function(){}),1==e&&null!=this.effectUid[t]?cc.audioEngine.resumeEffect(this.effectUid[t]):null!=this.effectResources[t]&&null!=this.effectResources[t]&&(this.effectUid[t]=cc.audioEngine.playEffect(this.effectResources[t],e),cc.audioEngine.setFinishCallback(this.effectUid[t],o))},e.prototype.pauseAudio=function(t){cc.audioEngine.pause(this.effectUid[t])},e.prototype.pauseAll=function(){cc.audioEngine.pauseAll()},e.prototype.resumeAll=function(){cc.audioEngine.resumeAll()},e.prototype.stopAudio=function(t){cc.audioEngine.stop(this.effectUid[t])},r([s(cc.AudioClip)],e.prototype,"backgroundAudio",void 0),r([s(cc.AudioClip)],e.prototype,"effectAudio",void 0),r([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],AdViewControl:[function(t,e,o){"use strict";cc._RF.push(e,"d2c06rJ30RMjLYg4HJSi6AT","AdViewControl");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.imgViewNode=null,e.imgViewSprite=null,e.newImgIndex=1,e.maxImgIndex=2,e}return i(e,t),e.prototype.start=function(){this.updateImg()},e.prototype.updateImg=function(){this.newImgIndex<this.maxImgIndex?this.newImgIndex+=1:this.newImgIndex=1;var t="img/Home/"+this.newImgIndex+".jpg",e=this;cc.loader.loadRes(t,cc.SpriteFrame,function(t,o){var n=cc.moveTo(2,-1e3,0),i=cc.moveTo(0,1e3,0),r=cc.moveTo(2,0,0),c=cc.callFunc(function(){e.imgViewNode.runAction(r),e.updateImg()},this),a=cc.callFunc(function(){e.imgViewSprite.spriteFrame=o,e.imgViewNode.runAction(cc.sequence(i,c))},this);setTimeout(function(){e.imgViewNode.runAction(cc.sequence(n,a))},1e4)})},r([s(cc.Node)],e.prototype,"imgViewNode",void 0),r([s(cc.Sprite)],e.prototype,"imgViewSprite",void 0),r([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],AjaxCall:[function(t,e,o){"use strict";cc._RF.push(e,"7137bKpV/JAb6TMkT2YgItl","AjaxCall"),Object.defineProperty(o,"__esModule",{value:!0}),o.AjaxCall=void 0;var n=function(){function t(){}return t.iGet=function(t,e,o,n){$.ajax({async:!0,type:"GET",url:t,dataType:e,success:function(t){o(t)},error:function(t){n(t)}})},t.iPost=function(t,e,o,n,i,r){$.ajax({async:e,type:"POST",url:t,dataType:n,data:o,success:function(t){i(t)},error:function(t){t.status,r("\u53d1\u751f\u9519\u8bef\uff0c\u8bf7\u91cd\u65b0\u767b\u5165\u6216\u56de\u62a5\u5ba2\u670d\u534f\u52a9\u5904\u7406! ("+t.status+")")}})},t}();o.AjaxCall=n,cc._RF.pop()},{}],Ajax:[function(t,e,o){"use strict";cc._RF.push(e,"0d5c7KFJ45MuqDbGbozA4Eq","Ajax"),Object.defineProperty(o,"__esModule",{value:!0}),o.ajax=void 0,function(t){(function(t){t.url="http://localhost/",t.key="?token="})(t.set1||(t.set1={})),function(t){t.url="/z/",t.key="?token="}(t.set2||(t.set2={})),function(t){t[t.historyNumber=0]="historyNumber",t[t.orders=1]="orders",t[t.cashflow=2]="cashflow",t[t.bet=3]="bet",t[t.area=4]="area",t[t.userInfo=5]="userInfo",t[t.single=6]="single"}(t.route||(t.route={})),function(t){t.historyNumber="",t.getBetRecord="eGame-Orx.php",t.getDealRecord="eGame-Trx.php",t.sendBet="eGame-En.php",t.getUserInfo="eGame-Balance.php",t.getPeriod="getPeriod.php",t.getCmd="eGame-Cmd.php",t.sendBet_A1="eGame-EnA1.php",t.sendBet_A2="eGame-EnA2.php"}(t.route_path1||(t.route_path1={})),function(t){t.historyNumber="",t.getBetRecord="eGame-Orx",t.getDealRecord="eGame-Trx",t.sendBet="eGame-En",t.getUserInfo="eGame-Balance",t.getPeriod="getPeriod.php",t.getCmd="eGame-Cmd",t.sendBet_A1="eGame-EnA1",t.sendBet_A2="eGame-EnA2"}(t.route_path2||(t.route_path2={})),function(t){t[t.cb_history=0]="cb_history",t[t.cb_orders=1]="cb_orders",t[t.cb_cashflow=2]="cb_cashflow",t[t.cb_bet=3]="cb_bet",t[t.cb_area=4]="cb_area",t[t.cb_userInfo=5]="cb_userInfo",t[t.cb_gameInfo=6]="cb_gameInfo"}(t.callback_name||(t.callback_name={}))}(o.ajax||(o.ajax={})),cc._RF.pop()},{}],ApiService:[function(t,e,o){"use strict";cc._RF.push(e,"cd1e0E5MFpBPocXknAbrKeW","ApiService"),Object.defineProperty(o,"__esModule",{value:!0}),o.ApiService=void 0;var n=t("./AjaxCall"),i=t("../../Config/Ajax"),r=function(){function t(){}return t.getUrl=function(){return 1==this.locTest?i.ajax.set1.url:i.ajax.set2.url},t.getApiRouter=function(t){return 1==this.locTest?i.ajax.route_path1[t]:i.ajax.route_path2[t]},t.getUserInfo=function(t,e){var o=this.getUrl()+this.getApiRouter("getUserInfo");n.AjaxCall.iPost(o,!0,{},"json",t,e)},t.getCmd=function(t,e,o,n){this.ifApiCallError=!1,e.json=this.b64EncodeUnicode(JSON.stringify({})),this.apiCall("getCmd",t,e,function(t){o(t)},n)},t.getPeriodData=function(t,e,o,n){this.apiCall("getPeriod",t,e,function(t){o(t)},n)},t.sendBet=function(t,e,o,n){var i={};i.json=this.b64EncodeUnicode(JSON.stringify(e)),this.apiCall("sendBet",t,i,o,n)},t.sendBet_A1=function(t,e,o,n){var i={};i.json=this.b64EncodeUnicode(JSON.stringify(e)),this.apiCall("sendBet_A1",t,i,o,n)},t.sendBet_A2=function(t,e,o,n){var i={};i.json=this.b64EncodeUnicode(JSON.stringify(e)),this.apiCall("sendBet_A2",t,i,o,n)},t.apiCall=function(t,e,o,i,r){var c=this;if(!this.ifApiCallError){var a=this.getUrl()+this.getApiRouter(t);o.gameName=e;var s=0,l=setInterval(function(){s>=30&&(r("\u8fde\u7ebf\u903e\u65f6!",!0),clearTimeout(l)),s+=1},1e3);n.AjaxCall.iPost(a,!0,o,"json",function(t){clearTimeout(l),c.ifApiCallError=!1,i(t)},function(t){clearTimeout(l),c.ifApiCallError=!0,r(t)})}},t.b64EncodeUnicode=function(t){return btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,function(t,e){return String.fromCharCode("0x"+e)}))},t.ifApiCallError=!1,t.locTest=1,t}();o.ApiService=r,cc._RF.pop()},{"../../Config/Ajax":"Ajax","./AjaxCall":"AjaxCall"}],AudioSetting:[function(t,e,o){"use strict";cc._RF.push(e,"8f955dPb6JGpI20woLtltnG","AudioSetting");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.backgroundSlider=null,e.effectSlider=null,e.bgProgress=null,e.effectProgress=null,e.bgSp=null,e.effectSp=null,e.bgVolumeTemp=1,e.effectVolumeTemp=1,e}return i(e,t),e.prototype.onLoad=function(){this.backgroundSlider.node.on("slide",this.bgSliderCallback,this),this.effectSlider.node.on("slide",this.effectSliderCallback,this)},e.prototype.audioOpenOrClose=function(t){var e=t.target.getComponent(cc.Sprite),o=e.spriteFrame.name.split("_");"close"==o[1]?(this.openAudioIcon(o[0],e),"bg"==o[0]?this.setBackgroundVolume(this.bgVolumeTemp):this.setEffectVolume(this.effectVolumeTemp)):(this.closeAudioIcon(o[0],e),"bg"==o[0]?this.setBackgroundVolume(0):this.setEffectVolume(0))},e.prototype.closeAudioIcon=function(t,e){var o="img/"+t+"_close.png";cc.loader.loadRes(o,cc.SpriteFrame,function(t,o){e.spriteFrame=o})},e.prototype.openAudioIcon=function(t,e){var o="img/"+t+"_open.png";cc.loader.loadRes(o,cc.SpriteFrame,function(t,o){e.spriteFrame=o})},e.prototype.effectSliderCallback=function(t){var e=Number(t.progress);0==e?this.closeAudioIcon("effect",this.effectSp):"effect_close"==this.effectSp.spriteFrame.name&&e>0&&this.openAudioIcon("effect",this.effectSp),this.effectProgress.width=344*e,this.effectVolumeTemp=e,this.setEffectVolume(e)},e.prototype.bgSliderCallback=function(t){var e=Number(t.progress);0==e?this.closeAudioIcon("bg",this.bgSp):"bg_close"==this.bgSp.spriteFrame.name&&e>0&&this.openAudioIcon("bg",this.bgSp),this.bgProgress.width=344*e,this.bgVolumeTemp=e,this.setBackgroundVolume(e)},e.prototype.setBackgroundVolume=function(t){var e=cc.find("Canvas/Control/AdControl");null!=e?e.getComponent("AdControl").setBackgroundVolume(t):alert("AudioControl node error!")},e.prototype.setEffectVolume=function(t){var e=cc.find("Canvas/Control/AdControl");null!=e?e.getComponent("AdControl").setEffectVolume(t):alert("AudioControl node error!")},e.prototype.closeSetting=function(t){this.node.setPosition(cc.v2(0,820)),0==t&&(cc.game.canvas.style.cursor="none")},r([s(cc.Slider)],e.prototype,"backgroundSlider",void 0),r([s(cc.Slider)],e.prototype,"effectSlider",void 0),r([s(cc.Node)],e.prototype,"bgProgress",void 0),r([s(cc.Node)],e.prototype,"effectProgress",void 0),r([s(cc.Sprite)],e.prototype,"bgSp",void 0),r([s(cc.Sprite)],e.prototype,"effectSp",void 0),r([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],BlackJack_CardsControl:[function(t,e,o){"use strict";cc._RF.push(e,"96643swNH5JHrorlYG/DHjd","BlackJack_CardsControl");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../framework/template/Compute"),a=cc._decorator,s=a.ccclass,l=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.playerCardsAnchor=null,e.dealerCardsAnchor=null,e.cardPrefab=null,e.playerPointInfo=null,e.dealerPointInfo=null,e.countDownNode=null,e.fakeMemPrefab=null,e.fakeMemNode=null,e.backCard=null,e.playerNowGetPoke=[],e.dealerNowGetPoke=[],e.winOdds=0,e.noShowPoke=[],e.remainingPoke={},e.sendBet_A2=null,e.gameFinishCallback=null,e.selfRound=!1,e.fakeMemCount=0,e.fakeResult=[],e.countDownSec=30,e}return i(e,t),e.prototype.initRemainingPoke=function(){this.remainingPoke={1:[1,2,3,4],2:[1,2,3,4],3:[1,2,3,4],4:[1,2,3,4],5:[1,2,3,4],6:[1,2,3,4],7:[1,2,3,4],8:[1,2,3,4],9:[1,2,3,4],10:[1,2,3,4],11:[1,2,3,4],12:[1,2,3,4],13:[1,2,3,4]}},e.prototype.playerGetPoke=function(t){t.target.getComponent(cc.Button).interactable=!1,cc.find("Canvas/card_control_btn/stop_card").getComponent(cc.Button).interactable=!1,this.countDownNode.active=!1,this.countDownNode.getComponent("CountDown").countDownCancer(),this.audioControl().pauseAudio("count_down"),this.audioControl().playSound("dealer_card",!1);var e=null;switch(this.winOdds){case 0:case 1:case 2:for(var o=20-this.getNowPoint(this.playerNowGetPoke),n=0,i=1;i<=(o>13?13:o);i++)n+=this.remainingPoke[i].length;0==o||0==n?e=this.getRandomRemainingPoke(2,13):1==(e=o>=11?this.getRandomRemainingPoke(1,13):10==o?this.getRandomRemainingPoke(2,o):this.getRandomRemainingPoke(1,o)).point&&this.getNowPoint(this.playerNowGetPoke)+e.point==21&&(e=o>=11?this.getRandomRemainingPoke(2,13):this.getRandomRemainingPoke(2,o));break;case 3:o=21-this.getNowPoint(this.playerNowGetPoke),e=this.getRandomRemainingPoke(1,o)}-1==e.point&&(e=this.getRandomRemainingPoke(2,13)),this.spawnCard(e.point,e.type,!0,"player")},e.prototype.gameFinish=function(t){0==this.winOdds?(this.gameFinishCallback(0),this.audioControl().playSound("lose",!1)):(this.gameFinishCallback(t),this.sendBet_A2(t)),this.dealerPointInfo.getChildByName("point_info_sprite").active=!0,this.countDownNode.active=!1,this.winOdds=0,this.playerNowGetPoke=[],this.dealerNowGetPoke=[],this.noShowPoke=[],this.selfRound=!1},e.prototype.getRandomRemainingPoke=function(t,e){for(var o=0,n=-1,i=0,r=t;r<=e;r++)i+=this.remainingPoke[r].length;if(0==i)return{point:-1,type:-1};for(;-1==n;)o=c.Compute.getRandom(t,e),n=this.remainingPoke[o].length>0?this.remainingPoke[o].splice(c.Compute.getRandom(0,this.remainingPoke[o].length-1),1):-1;return{point:o,type:n}},e.prototype.getNowPoint=function(t){var e=0,o=0;t.forEach(function(t){t.point>10?e+=10:1==t.point?o++:e+=t.point});for(var n=0,i=0;i<o;i++)e+11>21?e+=1:e+1>21&&n>0?(n--,e-=10):(n++,e+=11);return e},e.prototype.playerStopPoke=function(){cc.find("Canvas/card_control_btn/makeup_card").getComponent(cc.Button).interactable=!1,cc.find("Canvas/card_control_btn/stop_card").getComponent(cc.Button).interactable=!1,cc.find("Canvas/card_control_btn").active=!1,this.countDownNode.active=!1,this.countDownNode.getComponent("CountDown").countDownCancer(),this.audioControl().pauseAudio("count_down"),this.fakeAutoAddCard()},e.prototype.fakeAutoAddCard=function(){var t=this;if(this.fakeMemCount>2)for(var e,o=function(o){e=c.Compute.getRandom(1,2);for(var n=function(n){setTimeout(function(){var i=cc.instantiate(t.backCard);t.fakeMemNode.children[o].getChildByName("cardsAnchor").addChild(i);var r=cc.v2(0,500),c=i.convertToNodeSpaceAR(r);i.setPosition(c);var a=cc.moveTo(.5,cc.v2(10*(1+n+1),0));t.audioControl().playSound("dealer_card",!1),i.runAction(cc.sequence(a,cc.callFunc(function(){if(o==t.fakeMemCount-1&&n==e-1){var i=t.StopPokeCom(),r=0;t.openFakeMemCard(),i.forEach(function(e){var o=!1;++r==i.length&&(o=!0),setTimeout(function(){t.audioControl().playSound("dealer_card",!1),t.spawnCard(e.point,e.type,!0,"dealer",o)},1e3*r)})}},t)))},1e3*(o+1)*(n+1))},i=0;i<e;i++)n(i)},n=2;n<this.fakeMemCount;n++)o(n);else{var i=this.StopPokeCom(),r=0;this.openFakeMemCard(),i.forEach(function(e){var o=!1;++r==i.length&&(o=!0),setTimeout(function(){t.audioControl().playSound("dealer_card",!1),t.spawnCard(e.point,e.type,!0,"dealer",o)},1e3*r)})}},e.prototype.openFakeMemCard=function(){for(var t,e,o,n=this,i=function(i){switch(t=r.fakeMemNode.children[i].getChildByName("cardsAnchor").children.length,e=[],t){case 3:e.push(r.getRandomRemainingPoke(2,13)),e.push(r.getRandomRemainingPoke(5,13));break;case 4:e.push(r.getRandomRemainingPoke(2,6)),e.push(r.getRandomRemainingPoke(2,6)),e.push(r.getRandomRemainingPoke(2,6));break;case 5:e.push(r.getRandomRemainingPoke(2,5)),e.push(r.getRandomRemainingPoke(2,5)),e.push(r.getRandomRemainingPoke(2,5)),e.push(r.getRandomRemainingPoke(2,5))}r.getNowPoint(e)<10?e.push(r.getRandomRemainingPoke(10,13)):r.getNowPoint(e)<15?e.push(r.getRandomRemainingPoke(7,13)):e.push(r.getRandomRemainingPoke(1,13)),r.fakeMemNode.children[i].getChildByName("cardsAnchor").children.forEach(function(t){t.destroy()}),o=0,e.forEach(function(t){var r=cc.instantiate(n.cardPrefab),c=r.getComponent("BlackJack_Card"),a="";switch(t.point){case 1:a="A";break;case 11:a="J";break;case 12:a="Q";break;case 13:a="K";break;default:a=String(t.point)}n.fakeMemNode.children[i].getChildByName("cardsAnchor").addChild(r);var s=2==t.type||4==t.type;c.init({isBlackSuit:!s,isRedSuit:s,point:t.point,pointName:a,suit:t.type}),c.node.setPosition(cc.v2(0,0));var l=cc.moveTo(.5,cc.v2(10*o,0)),p=cc.callFunc(n._fakePointInfoDisplay,n,{index:i,array:e});o==e.length-1?c.node.runAction(cc.sequence(l,p)):c.node.runAction(l),c.node.scale=.3,o++})},r=this,c=0;c<this.fakeMemCount;c++)i(c)},e.prototype._fakePointInfoDisplay=function(t,e){var o=this.fakeMemNode.children[e.index].getChildByName("point_frame"),n=this.getNowPoint(e.array);o.active=!0,o.getChildByName("Label").getComponent(cc.Label).string=String(n),this.fakeResult.push({label:o.getChildByName("Label").getComponent(cc.Label),fakePoint:n})},e.prototype.StopPokeCom=function(){this.noShowPoke.forEach(function(t){t.reveal(!0)});var t=[],e=this.getNowPoint(this.playerNowGetPoke),o=this.getNowPoint(this.dealerNowGetPoke);switch(this.winOdds){case 0:if(o<=e)for(;o<=e;){var n=this.getRandomRemainingPoke(1,13),i=t.concat([n]),r=this.getNowPoint(i.concat(this.dealerNowGetPoke));-1!=n.point&&(r<e?(t.push(n),o=r):r>=e&&r<=21&&(t.push(n),o=r))}else t.push(this.getRandomRemainingPoke(1,21-o));break;case 1:if(o<e){var c=this.getRandomRemainingPoke(1,e-o);if(this.getNowPoint([c].concat(this.dealerNowGetPoke))==e)t.push(c);else{var a=e-o-c.point,s=this.getRandomRemainingPoke(a,a);t.push(c),-1!=s.point?t.push(s):s=this.getRandomRemainingPoke(a,21-a)}}else t.push(this.getRandomRemainingPoke(1,21-o));break;case 2:if(o<=e)for(;o<=e;)n=this.getRandomRemainingPoke(1,13),i=t.concat([n]),r=this.getNowPoint(i.concat(this.dealerNowGetPoke)),-1!=n.point&&(r<=e?(t.push(n),o=r):r>21?(t.push(n),o=r):e<17&&r>e&&r<=21&&(t.push(n),o=r));else t.push(this.getRandomRemainingPoke(1,21-o));break;case 3:if(21!=e)if(o<=e)for(;o<=e;)n=this.getRandomRemainingPoke(1,13),i=t.concat([n]),r=this.getNowPoint(i.concat(this.dealerNowGetPoke)),-1!=n.point&&(r<=e?(t.push(n),o=r):r>21?(t.push(n),o=r):e<17&&r>e&&r<=21&&(t.push(n),o=r));else t.push(this.getRandomRemainingPoke(1,21-o))}for(;this.getNowPoint(t.concat(this.dealerNowGetPoke))<15;){var l=this.getRandomRemainingPoke(1,13);this.getNowPoint([l].concat(t).concat(this.dealerNowGetPoke))<=21&&t.push(l)}return t},e.prototype.setSendBet_A2=function(t){this.sendBet_A2=t},e.prototype.setGameFinishCallback=function(t){this.gameFinishCallback=t},e.prototype.initDealCard=function(t){var e=this;this.fakeMemCount=3,this.winOdds=t;for(var o=0;o<this.fakeMemCount;o++){var n=cc.instantiate(this.fakeMemPrefab);this.fakeMemNode.children[o].addChild(n),n.getChildByName("Label").getComponent(cc.Label).string=this.getRandomAcc();var i=cc.instantiate(this.backCard);this.fakeMemNode.children[o].getChildByName("cardsAnchor").addChild(i);var r=cc.instantiate(this.backCard);this.fakeMemNode.children[o].getChildByName("cardsAnchor").addChild(r);var a=cc.moveTo(.5,cc.v2(10,0)),s=cc.callFunc(function(){},this);r.runAction(cc.sequence(a,s))}this.initRemainingPoke();var l=c.Compute.getRandom(1,13),p=this.remainingPoke[l].splice(c.Compute.getRandom(0,this.remainingPoke[l].length-1),1),u=c.Compute.getRandom(2,7),h=this.remainingPoke[u].splice(c.Compute.getRandom(0,this.remainingPoke[u].length-1),1),d=c.Compute.getRandom(1,13),f=this.remainingPoke[d].splice(c.Compute.getRandom(0,this.remainingPoke[d].length-1),1),m=c.Compute.getRandom(2,7),y=this.remainingPoke[m].splice(c.Compute.getRandom(0,this.remainingPoke[m].length-1),1);this.spawnCard(l,p,!0,"player"),this.spawnCard(u,h,!0,"player"),this.spawnCard(d,f,!1,"dealer"),this.spawnCard(m,y,!0,"dealer"),0==this.fakeMemCount&&(this.selfRound=!0,this.countDownNode.active=!0,this.countDownNode.getComponent("CountDown").startCountDown(this.countDownSec,this.playerStopPoke.bind(this)),this.audioControl().playSound("count_down",!0),cc.find("Canvas/card_control_btn").active=!0);for(var _,C=function(t){_=c.Compute.getRandom(1,2);for(var o=function(o){setTimeout(function(){var n=cc.instantiate(e.backCard);e.fakeMemNode.children[t].getChildByName("cardsAnchor").addChild(n);var i=cc.v2(0,500),r=n.convertToNodeSpaceAR(i);n.setPosition(r);var c=cc.moveTo(.5,cc.v2(10*(1+o+1),0));e.audioControl().playSound("dealer_card",!1),n.runAction(cc.sequence(c,cc.callFunc(function(){t==(e.fakeMemCount>2?2:e.fakeMemCount)-1&&o==_-1&&(e.selfRound=!0,e.countDownNode.active=!0,e.countDownNode.getComponent("CountDown").startCountDown(e.countDownSec,e.playerStopPoke.bind(e)),e.audioControl().playSound("count_down",!0),cc.find("Canvas/card_control_btn").active=!0)},e)))},1e3*(t+1)*(o+1))},n=0;n<_;n++)o(n)},g=0;g<(this.fakeMemCount>2?2:this.fakeMemCount);g++)C(g)},e.prototype.spawnCard=function(t,e,o,n,i){void 0===i&&(i=!1);var r=cc.instantiate(this.cardPrefab),c=r.getComponent("BlackJack_Card"),a=0,s="",l=null,p=0;switch(0==o&&this.noShowPoke.push(c),n){case"player":this.playerCardsAnchor.addChild(r),this.playerNowGetPoke.push({point:t,type:e}),a=this.playerNowGetPoke.length,l=this.playerPointInfo,p=this.getNowPoint(this.playerNowGetPoke);break;case"dealer":this.dealerCardsAnchor.addChild(r),this.dealerNowGetPoke.push({point:t,type:e}),a=this.dealerNowGetPoke.length,l=this.dealerPointInfo,p=this.getNowPoint(this.dealerNowGetPoke)}switch(t){case 1:s="A";break;case 11:s="J";break;case 12:s="Q";break;case 13:s="K";break;default:s=String(t)}var u=2==e||4==e;c.init({isBlackSuit:!u,isRedSuit:u,point:t,pointName:s,suit:e}),c.reveal(o);var h=cc.v2(0,0);if(c.node.setPosition(h),a>1){var d=!("dealer"==n&&a<3),f=cc.moveTo(.5,cc.v2(30*(a-1),0)),m=cc.callFunc(this._onDealEnd,this,{parent:n,infoNode:l,move:cc.v2(30*(a-1)+70,0),totalPoint:p,showInfo:d,stopPoke:i});c.node.runAction(cc.sequence(f,m))}},e.prototype._onDealEnd=function(t,e){var o=this,n=cc.moveTo(1,e.move);e.showInfo&&(e.infoNode.getChildByName("point_info_sprite").active=!0),e.infoNode.setPosition(cc.v2(100,0));var i=cc.callFunc(function(){if(cc.find("Canvas/card_control_btn/makeup_card").getComponent(cc.Button).interactable=!0,cc.find("Canvas/card_control_btn/stop_card").getComponent(cc.Button).interactable=!0,e.totalPoint>21)e.infoNode.getChildByName("effect").active=!0,e.infoNode.getChildByName("effect").getComponent(cc.Animation).play("bust"),"player"==e.parent?(o.gameFinish(0),o.audioControl().playSound("bomb",!1,function(){o.audioControl().playSound("lose",!1)})):(o._showFakeResult(),o.gameFinish(2),o.audioControl().playSound("bomb",!1,function(){o.audioControl().playSound("win",!1)}));else if("player"==e.parent&&21==e.totalPoint)o.gameFinish(3);else if(1==e.stopPoke){var t=o.getNowPoint(o.playerNowGetPoke),n=o.getNowPoint(o.dealerNowGetPoke);o._showFakeResult(),t==n?o.gameFinish(1):t>n&&t<21?(o.gameFinish(2),o.audioControl().playSound("win",!1)):(o.gameFinish(0),o.audioControl().playSound("lose",!1))}else"player"==e.parent&&e.totalPoint<21&&o.selfRound&&(o.countDownNode.active=!0,o.countDownNode.getComponent("CountDown").startCountDown(o.countDownSec,o.playerStopPoke.bind(o)),o.audioControl().playSound("count_down",!0))},this);e.infoNode.runAction(cc.sequence(n,i)),e.infoNode.getChildByName("point_info_sprite").getChildByName("Label").getComponent(cc.Label).string=e.totalPoint},e.prototype._showFakeResult=function(){var t=this.getNowPoint(this.dealerNowGetPoke);this.fakeResult.forEach(function(e){var o;o=21==e.fakePoint?"(\u83b7\u80dc!)":e.fakePoint>21?"(\u7206\u70b8!)":e.fakePoint>t&&e.fakePoint<=21||t>21?"(\u83b7\u80dc!)":e.fakePoint==t?"(\u5e73\u624b!)":"(\u8f93\u4e86!)",e.label.string=e.label.string+" "+o}),this.fakeResult=[]},e.prototype.getRandomAcc=function(){for(var t=c.Compute.getRandom(3,6),e="",o="",n="abcdefghijklmnopqrstuvwxyz123456789",i=0;i<t;i++)e+="*";for(var r=0;r<1;r++)o+=n.charAt(Math.floor(Math.random()*n.length));for(o+=e,r=0;r<2;r++)o+=n.charAt(Math.floor(Math.random()*n.length));return o},e.prototype.audioControl=function(){return cc.find("Canvas/Control/AdControl").getComponent("AdControl")},r([l(cc.Node)],e.prototype,"playerCardsAnchor",void 0),r([l(cc.Node)],e.prototype,"dealerCardsAnchor",void 0),r([l(cc.Prefab)],e.prototype,"cardPrefab",void 0),r([l(cc.Node)],e.prototype,"playerPointInfo",void 0),r([l(cc.Node)],e.prototype,"dealerPointInfo",void 0),r([l(cc.Node)],e.prototype,"countDownNode",void 0),r([l(cc.Prefab)],e.prototype,"fakeMemPrefab",void 0),r([l(cc.Node)],e.prototype,"fakeMemNode",void 0),r([l(cc.Prefab)],e.prototype,"backCard",void 0),r([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../framework/template/Compute":"Compute"}],BlackJack_Card:[function(t,e,o){"use strict";cc._RF.push(e,"d5d91TzM9hKNq8o/8ATElxv","BlackJack_Card");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.point=null,e.suit=null,e.mainPic=null,e.cardBG=null,e.redTextColor=cc.Color.WHITE,e.blackTextColor=cc.Color.WHITE,e.texFrontBG=null,e.texBackBG=null,e.texFaces=[],e.texSuitBig=[],e.texSuitSmall=[],e}return i(e,t),e.prototype.init=function(t){var e=t.point>10;this.mainPic.spriteFrame=e?this.texFaces[t.point-10-1]:this.texSuitBig[t.suit-1],this.point.string=t.pointName,t.isRedSuit?this.point.node.color=this.redTextColor:this.point.node.color=this.blackTextColor,this.suit.spriteFrame=this.texSuitSmall[t.suit-1]},e.prototype.reveal=function(t){this.point.node.active=t,this.suit.node.active=t,this.mainPic.node.active=t,this.cardBG.spriteFrame=t?this.texFrontBG:this.texBackBG},r([s(cc.Label)],e.prototype,"point",void 0),r([s(cc.Sprite)],e.prototype,"suit",void 0),r([s(cc.Sprite)],e.prototype,"mainPic",void 0),r([s(cc.Sprite)],e.prototype,"cardBG",void 0),r([s(cc.Color)],e.prototype,"redTextColor",void 0),r([s(cc.Color)],e.prototype,"blackTextColor",void 0),r([s(cc.SpriteFrame)],e.prototype,"texFrontBG",void 0),r([s(cc.SpriteFrame)],e.prototype,"texBackBG",void 0),r([s(cc.SpriteFrame)],e.prototype,"texFaces",void 0),r([s(cc.SpriteFrame)],e.prototype,"texSuitBig",void 0),r([s(cc.SpriteFrame)],e.prototype,"texSuitSmall",void 0),r([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],BlackJack_DealCard:[function(t,e,o){"use strict";cc._RF.push(e,"9e91c9GTGhCpYmxZMKHEJGp","BlackJack_DealCard");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.play=function(){this.node.getComponent(cc.Animation).play("dealCard")},r([a],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],BlackJack_Game:[function(t,e,o){"use strict";cc._RF.push(e,"ccc53uOk41NsLMT3G4AY8LO","BlackJack_Game");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../framework/template/GameTemplate"),a=t("./module/BlackJack_MGC"),s=t("./module/BlackJack_MGC_enum"),l=cc._decorator,p=l.ccclass,u=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.chipPrefab=null,e.anchorChipToss=null,e.cardInfo=null,e.cardsCtrNode=null,e.myMGC=new a.default,e.betMoney=0,e.cardsCtr=null,e}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.init()},e.prototype.init=function(){this.cardsCtr=this.cardsCtrNode.getComponent("BlackJack_CardsControl"),this.cardsCtr.setSendBet_A2(this.sendBet_A2.bind(this)),this.cardsCtr.setGameFinishCallback(this.gameFinishCallback.bind(this)),this.getMCG().addCallbackOnEvent(this.sendBetSuccess.bind(this),s.MGC_enum.EventType.sendBetSuccess)},e.prototype.getMCG=function(){return this.myMGC},e.prototype.sendBetSuccess=function(t){cc.find("Canvas/loading").active=!1;var e=cc.find("Canvas/bet_button");t=this.getMCG().Data.winMoney/this.betMoney==t?t:0,e.active=!1,this.anchorChipToss.children.forEach(function(t){t.destroy()}),this.cardsCtr.initDealCard(t)},e.prototype.sendBet=function(){this.audioControl().playSound("btn",!1),cc.find("Canvas/player_card_area/point_info").active=!0,this.getMCG().Data.playerAmount<=0?this.showErrorMsg("\u91d1\u989d\u4e0d\u8db3"):0==this.betMoney?this.showErrorMsg("\u4e0b\u6ce8\u7b79\u7801\u4e0d\u8db3"):(cc.find("Canvas/loading").active=!0,this.doSendBet_A1(this.betMoney,null))},e.prototype.sendBet_A2=function(t){this.doSendBet_A2(this.getMCG().Data.transferCode,t*this.betMoney)},e.prototype.gameFinishCallback=function(t){cc.find("Canvas/card_control_btn").active=!1;var e=cc.find("Canvas/game_result");e.active=!0,e.getComponent(cc.Label).string=t>1?"\u60a8\u83b7\u80dc\u4e86! \u8d0f\u5f97\u734e\u91d1:"+t*this.betMoney:1==t?"\u5e73\u624b!":"\u60a8\u8f93\u4e86!",cc.find("Canvas/newGame").active=!0},e.prototype.resetGame=function(){this.audioControl().playSound("btn",!1),cc.find("Canvas/game_result").active=!1,this.betMoney=0,this.updateBetInfo(this.betMoney),cc.find("Canvas/player_card_area").children.forEach(function(t){"point_info"!=t.name&&"cardsAnchor"!=t.name&&t.destroy()}),cc.find("Canvas/dealer_card_area").children.forEach(function(t){"point_info"!=t.name&&"cardsAnchor"!=t.name&&t.destroy()}),cc.find("Canvas/card_control_btn/stop_card").getComponent(cc.Button).interactable=!0,cc.find("Canvas/player_card_area/point_info/point_info_sprite").active=!1,cc.find("Canvas/player_card_area/point_info/effect").active=!1,cc.find("Canvas/dealer_card_area/point_info/point_info_sprite").active=!1,cc.find("Canvas/dealer_card_area/point_info/effect").active=!1,cc.find("Canvas/player_card_area/point_info/point_info_sprite/Label").getComponent(cc.Label).string="0",cc.find("Canvas/dealer_card_area/point_info/point_info_sprite/Label").getComponent(cc.Label).string="0",cc.find("Canvas/bet_button").active=!0,cc.find("Canvas/newGame").active=!1,cc.find("Canvas/randomMem").children.forEach(function(t){t.children.forEach(function(t){"member"==t.name&&t.destroy()}),t.getChildByName("cardsAnchor").children.forEach(function(t){t.destroy()}),t.getChildByName("point_frame").active=!1})},e.prototype.playAddChip=function(t,e){if(this.getMCG().Data.playerAmount<=0)this.showErrorMsg("\u91d1\u989d\u4e0d\u8db3");else{this.audioControl().playSound("bargaining_chip",!1);var o=cc.v2(100*(Math.random()-.5),100*(Math.random()-.5)),n=cc.instantiate(this.chipPrefab);this.anchorChipToss.addChild(n),n.setPosition(o),n.getComponent("BlackJack_TossChip").play(),this.betMoney+=Number(e),this.updateBetInfo(this.betMoney)}},e.prototype.clearBet=function(){this.audioControl().playSound("btn",!1),this.betMoney=0,this.updateBetInfo(this.betMoney),this.anchorChipToss.children.forEach(function(t){t.destroy()})},r([u(cc.Prefab)],e.prototype,"chipPrefab",void 0),r([u(cc.Node)],e.prototype,"anchorChipToss",void 0),r([u(cc.Node)],e.prototype,"cardInfo",void 0),r([u(cc.Node)],e.prototype,"cardsCtrNode",void 0),r([p],e)}(c.default);o.default=h,cc._RF.pop()},{"../framework/template/GameTemplate":"GameTemplate","./module/BlackJack_MGC":"BlackJack_MGC","./module/BlackJack_MGC_enum":"BlackJack_MGC_enum"}],BlackJack_MGC_enum:[function(t,e,o){"use strict";cc._RF.push(e,"0833534MnFL+IUqQi8+bs6E","BlackJack_MGC_enum"),Object.defineProperty(o,"__esModule",{value:!0}),o.MGC_enum=void 0,function(t){(function(t){t.updateBonusPool="updateBonusPool",t.sendBetSuccess="sendBetSuccess"})(t.EventType||(t.EventType={})),(t.Cmd_Type||(t.Cmd_Type={})).GetBouns="GetBouns"}(o.MGC_enum||(o.MGC_enum={})),cc._RF.pop()},{}],BlackJack_MGC_str:[function(t,e,o){"use strict";cc._RF.push(e,"d4f3epk08tKcJCLJM/kqXgr","BlackJack_MGC_str"),Object.defineProperty(o,"__esModule",{value:!0}),o.MGC_str=void 0;o.MGC_str=function(){this.gameType="blackjack",this.freeGameCount=0,this.areaId=0,this.nowPeriods="",this.winMoney=0,this.callbackOnEvent={},this.transferCode="",this.boundPool=1e4,this.random=""},cc._RF.pop()},{}],BlackJack_MGC:[function(t,e,o){"use strict";cc._RF.push(e,"3c17bgDwDJCcYG8bIyxPfG8","BlackJack_MGC");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("./BlackJack_MGC_str"),c=t("../../framework/template/MGC_Interface"),a=t("./BlackJack_MGC_enum"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Data=new r.MGC_str,e}return i(e,t),e.prototype.PeriodData_Callback=function(t){this.Data.nowPeriods=t.periods},e.prototype.SendBet_Callback=function(t,e){e=this.b64DecodeUnicode(e),this.Data.playerAmount=parseInt(e.afterBalance),this.Data.winMoney=String(e.winMoney),this.Data.transferCode=String(t),this.onEvent(a.MGC_enum.EventType.sendBetSuccess,parseInt(e.Odds))},e.prototype.Cmd_Callback=function(t,e){switch(t){case a.MGC_enum.Cmd_Type.GetBouns.toString():this.Data.boundPool=parseInt(e.bouns),this.onEvent(a.MGC_enum.EventType.updateBonusPool,Number(this.Data.boundPool))}},e}(c.default);o.default=s,cc._RF.pop()},{"../../framework/template/MGC_Interface":"MGC_Interface","./BlackJack_MGC_enum":"BlackJack_MGC_enum","./BlackJack_MGC_str":"BlackJack_MGC_str"}],BlackJack_TossChip:[function(t,e,o){"use strict";cc._RF.push(e,"d0e25OdmL9Mxb2CulSLLDEB","BlackJack_TossChip");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.anim=null,e}return i(e,t),e.prototype.play=function(){this.anim.play("chip_toss")},r([s(cc.Animation)],e.prototype,"anim",void 0),r([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],BombAnimation:[function(t,e,o){"use strict";cc._RF.push(e,"d8e64AdnjRGe6rvCYtA5768","BombAnimation");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.animationFinish=function(){cc.find("Canvas/test2").getComponent("ClearUp").onStop()},r([a],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],ClearUp:[function(t,e,o){"use strict";cc._RF.push(e,"82155ichwlGuYSrZMsruk5r","ClearUp");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../template/Compute"),a=cc._decorator,s=a.ccclass,l=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefabArray=[],e.clearAnimal=null,e.tableNode=null,e.scoreLabel=null,e.prefabWH=[50,50],e.tableRC=[8,5],e.tableValue=[],e.sendButton=null,e.scoreCompute=0,e.startPoint=cc.v2(0,0),e.lock=!0,e}return i(e,t),e.prototype.onLoad=function(){this.spwanPrefab(null,""),this.node.on(cc.Node.EventType.TOUCH_START,this.touchStartEvent,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.touchMoveEvent,this),this.node.on(cc.Node.EventType.TOUCH_END,this.touchEndEvent,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.touchEndEvent,this)},e.prototype.beforeDestroy=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.touchStartEvent,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.touchMoveEvent,this),this.node.off(cc.Node.EventType.TOUCH_END,this.touchEndEvent,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.touchEndEvent,this)},e.prototype.touchStartEvent=function(t){if(!this.lock){var e=this.tableNode.width,o=this.tableNode.height;this.startPoint=this.node.convertToNodeSpaceAR(t.getLocation());var n=Math.ceil((e/2+this.startPoint.x)/this.prefabWH[0]),i=Math.ceil((o/2+this.startPoint.y)/this.prefabWH[1]);this.tableValue[i-1][n-1].scale=1.2}},e.prototype.touchMoveEvent=function(t){if(!this.lock){var e=this.tableNode.width,o=this.tableNode.height,n=this.node.convertToNodeSpaceAR(t.getLocation()),i=this.node.convertToNodeSpaceAR(t.getLocation()),r=Math.ceil((e/2+this.startPoint.x)/this.prefabWH[0]),c=Math.ceil((o/2+this.startPoint.y)/this.prefabWH[1]),a=Math.ceil((e/2+i.x)/this.prefabWH[0]),s=Math.ceil((o/2+i.y)/this.prefabWH[1]),l=this.tableValue[s-1][a-1].x,p=this.tableValue[s-1][a-1].y,u=this.tableValue[c-1][r-1].x,h=this.tableValue[c-1][r-1].y;(Math.abs(l-u)>25||Math.abs(p-h)>25)&&(this.tableValue[c-1][r-1].x=l,this.tableValue[c-1][r-1].y=p,this.tableValue[s-1][a-1].x=u,this.tableValue[s-1][a-1].y=h,this.startPoint.x=n.x,this.startPoint.y=n.y)}},e.prototype.touchEndEvent=function(t){var e=this.tableNode.width,o=this.tableNode.height,n=this.node.convertToNodeSpaceAR(t.getLocation()),i=Math.ceil((e/2+n.x)/this.prefabWH[0]),r=Math.ceil((o/2+n.y)/this.prefabWH[1]);this.tableValue[r-1][i-1].scale=1,this.checkTable()},e.prototype.spwanPrefab=function(){0!=this.tableValue.length&&(this.scoreLabel.string="0",this.scoreCompute=0,this.reset());for(var t=this.tableNode.width,e=this.tableNode.height,o=0;o<this.tableRC[0];o++){for(var n=[],i=null,r=0;r<this.tableRC[1];r++){var a=c.Compute.getRandom(0,this.prefabArray.length-1),s=cc.v2(r*this.prefabWH[0]-t/2,o*this.prefabWH[1]-e/2);o==this.tableRC[0]-1&&r==this.tableRC[1]-1&&(i=this.checkTable.bind(this));var l=this.instantedNode(this.prefabArray[a],s,1+o/this.tableRC[0],i);n.push(l)}this.tableValue.push(n)}},e.prototype.instantedNode=function(t,e,o,n){void 0===e&&(e=cc.v2(0,0)),void 0===n&&(n=null);var i=cc.instantiate(t);this.tableNode.addChild(i),i.setPosition(cc.v2(e.x,this.tableNode.height/2+this.prefabWH[1]));var r=cc.tween().by(o,{y:e.y-this.tableNode.height/2-this.prefabWH[1]},{easing:"expoIn"});return cc.tween(i).then(r).call(function(){null!=n&&n(),i.setPosition(e)}).start(),i},e.prototype.checkTable=function(){var t=this,e={};this.lock=!0;for(var o=0;o<this.tableValue.length;o++)for(var n="",i=[],r=0;r<this.tableValue[o].length;r++)n!=this.tableValue[o][r].name?(i.length>0&&e[n].push({R:o,C:i}),n=this.tableValue[o][r].name,(i=[]).push(r),null==e[n]&&(e[n]=[]),r==this.tableValue[o].length-1&&e[this.tableValue[o][r].name].push({R:o,C:i})):(i.push(r),r==this.tableValue[o].length-1&&i.length>0&&e[n].push({R:o,C:i}));var c=[];Object.keys(e).forEach(function(t){for(var o=Object.assign([],e[t]),n=0,i=1,r=[];o.length>1;)if(o[n].C.filter(function(t){return o[i].C.indexOf(t)>-1}).length>0&&1==Math.abs(Number(o[n].R)-Number(o[i].R)))if(i>=o.length-1){r.push(o[n]),r.push(o[i]),o.splice(i,1),o.splice(n,1);var a=0;r.forEach(function(t){a+=t.C.length}),a>=3&&c.push(r),r=[],n=0,i=1}else r.push(o[n]),o.splice(n,1),i=1+(n=i-1);else i>=o.length-1?r.length>0?(r.push(o[n]),o.splice(n,1),a=0,r.forEach(function(t){a+=t.C.length}),a>=3&&c.push(r),r=[],n=0,i=1):o[n].C.length>=3?(r.push(o[n]),o.splice(n,1),c.push(r),r=[],n=0,i=1):(o.splice(n,1),r=[],n=0,i=1):i+=1;1==o.length&&o[0].C.length>=3&&c.push([o[0]])}),0==c.length&&(this.scoreLabel.string=String(this.scoreCompute),this.lock=!1),c.forEach(function(e,o){var n=0;e.forEach(function(i,r){n+=i.C.length,i.C.forEach(function(n,a){t.tableValue[i.R][n].color=cc.Color.GRAY;var s=cc.instantiate(t.clearAnimal);t.tableNode.addChild(s),s.setPosition(cc.v2(t.tableValue[i.R][n].x,t.tableValue[i.R][n].y));var l=s.getComponent(cc.Animation);l.play("bomb"),t.tableValue[i.R][n].opacity=128,o==c.length-1&&r==e.length-1&&a==i.C.length-1&&l.on("stop",function(){for(var e=0;e<t.tableRC[1];e++)for(var o=0,n=0;n<t.tableRC[0];n++)if(128==t.tableValue[n][e].opacity)t.tableValue[n][e].destroy(),t.tableValue[n][e]=null,o++;else{var i=cc.v2(t.tableValue[n][e].x,t.tableValue[n][e].y-t.prefabWH[1]*o);t.tableValue[n][e].setPosition(i);var r=t.tableValue[n].splice(e,1,null);t.tableValue[n-o].splice(e,1,r[0])}t.checkTableEmpty()},t)})}),t.scoreCompute+=Math.pow(2,n)})},e.prototype.checkTableEmpty=function(){for(var t=this,e=this.tableNode.width,o=this.tableNode.height,n=null,i=!0,r=[],a=0;a<this.tableRC[1];a++)for(var s=0;s<this.tableRC[0];s++)null==this.tableValue[s][a]&&r.push({R:s,C:a});r.forEach(function(a,s){i=!1;var l=c.Compute.getRandom(0,t.prefabArray.length-1),p=cc.v2(a.C*t.prefabWH[0]-e/2,a.R*t.prefabWH[1]-o/2);s==r.length-1&&(n=t.checkTable.bind(t));var u=t.instantedNode(t.prefabArray[l],p,.6,n);t.tableValue[a.R][a.C]=u}),i&&(this.scoreLabel.string=String(this.scoreCompute),this.lock=!1)},e.prototype.reset=function(){this.tableValue.forEach(function(t){t.forEach(function(t){null!=t&&t.destroy()})}),this.tableValue=[]},r([l(cc.Prefab)],e.prototype,"prefabArray",void 0),r([l(cc.Prefab)],e.prototype,"clearAnimal",void 0),r([l(cc.Node)],e.prototype,"tableNode",void 0),r([l(cc.Label)],e.prototype,"scoreLabel",void 0),r([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../template/Compute":"Compute"}],Compute:[function(t,e,o){"use strict";cc._RF.push(e,"8ca98hMqrxAmY0aXR+dp6i4","Compute"),Object.defineProperty(o,"__esModule",{value:!0}),o.Compute=void 0;var n=function(){function t(){}return t.getRandom=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},t}();o.Compute=n,cc._RF.pop()},{}],CountDown:[function(t,e,o){"use strict";cc._RF.push(e,"e0969XZJTNPQa8qRZJRr/SY","CountDown");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.CountLabel=null,e._zeroCallback=null,e.cancelCount=!1,e}return i(e,t),e.prototype.startCountDown=function(t,e){this.cancelCount=!1,this.CountLabel.string=String(t),this.playAnimate(),this._zeroCallback=e},e.prototype.playAnimate=function(){this.node.getComponent(cc.Animation).play("countdown")},e.prototype.secDecreaseOne=function(){var t=parseInt(this.CountLabel.string)-1;this.CountLabel.string=String(t),parseInt(this.CountLabel.string)>0&&!this.cancelCount?this.playAnimate():this._zeroCallback()},e.prototype.countDownCancer=function(){this.cancelCount=!0},r([s(cc.Label)],e.prototype,"CountLabel",void 0),r([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],DSBCInterface:[function(t,e,o){"use strict";cc._RF.push(e,"001e6Z1tulG46ExJybThE1T","DSBCInterface");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),r([a],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],GameInterface:[function(t,e){"use strict";cc._RF.push(e,"d9faamBDB5Azqi5hto36etB","GameInterface"),cc._RF.pop()},{}],GameTemplate:[function(t,e,o){"use strict";cc._RF.push(e,"4e630mAxF9M0bJ/BaPTLP6/","GameTemplate");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,l=t("../net/ApiService"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.playerBalance=null,e.winInfo=null,e.betInfo=null,e.DisconnectedNode=null,e.AutoBtnLockList=[],e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.updateUserAmount=function(t){null!=this.playerBalance&&(this.playerBalance.string=String(t))},e.prototype.updateWinInfo=function(t){null!=this.winInfo&&t>=0&&(this.winInfo.string=String(t))},e.prototype.updateBetInfo=function(t){this.betInfo.string=String(t)},e.prototype.doGetUserInfo=function(){var t=this;l.ApiService.getUserInfo(function(e){t.responseCorrect(e)&&(t.getMCG().Data.playerAmount=parseInt(e.balance),t.getMCG().Data.playerName=e.name,t.getMCG().Data.playerAcc=e.account,t.updateUserAmount(e.balance))},function(e){t.apiErrorResponse(e)})},e.prototype.doSendBet=function(t,e){var o=this;l.ApiService.sendBet(this.getMCG().Data.gameType,{amount:t,number:e},function(t){o.responseCorrect(t)?o.getMCG().SendBet_Callback.bind(o.getMCG())(t.transferCode,t.winJson):o.doGetUserInfo()},function(t){o.apiErrorResponse(t)})},e.prototype.doSendBet_A1=function(t,e){this.doSendBet(t,e)},e.prototype.doSendBet_A2=function(t,e){var o=this;l.ApiService.sendBet_A2(this.getMCG().Data.gameType,{transferCode:t,winMoney:e},function(t){o.responseCorrect(t)},function(t){o.apiErrorResponse(t)})},e.prototype.doCmd=function(t,e,o){var n=this;void 0===o&&(o=!1),l.ApiService.getCmd(this.getMCG().Data.gameType,{cmd:t,json:e},function(i){n.responseCorrect(i)?n.getMCG().Cmd_Callback.bind(n.getMCG())(t,i.result):o&&setTimeout(function(){n.doCmd(t,e,o)},5e3)},function(i){o?setTimeout(function(){n.doCmd(t,e,o)},5e3):n.apiErrorResponse(i)})},e.prototype.audioControl=function(){return cc.find("Canvas/Control/AdControl").getComponent("AdControl")},e.prototype.responseCorrect=function(t){if(this.hideDisconnected(),"100"==t.c)return!0;this.showErrorMsg(t.e)},e.prototype.apiErrorResponse=function(t){this.hideDisconnected(),this.onDisconnected(t)},e.prototype.showErrorMsg=function(t){var e=this;cc.loader.loadRes("prefabs/default/error_msg",function(o,n){var i=e.instantedNode(n);e.getChildComponent(i,["error_msg"],cc.Label).string=t,i.runAction(cc.fadeTo(3,0)),setTimeout(function(){i.destroy()},3e3)})},e.prototype.onDisconnected=function(t,e){var o=this;void 0===e&&(e=!1),cc.find("Canvas/loading").active=!1,this.hideDisconnected(),cc.loader.loadRes("prefabs/default/disconnect_mask",function(n,i){o.DisconnectedNode=o.instantedNode(i),o.getChildComponent(o.DisconnectedNode,["error_msg"],cc.Label).string=t,e&&(cc.game.canvas.style.cursor="default",o.DisconnectedNode.getChildByName("ask").active=!0)})},e.prototype.hideDisconnected=function(){null!=this.DisconnectedNode&&(this.DisconnectedNode.destroy(),this.DisconnectedNode=null)},e.prototype.openSetting=function(){cc.find("Canvas/setting").setPosition(cc.v2(0,0)),cc.game.canvas.style.cursor="default"},e.prototype.instantedNode=function(t,e){void 0===e&&(e=cc.v2(0,0));var o=cc.instantiate(t);return this.node.addChild(o),o.setPosition(e),o},e.prototype.getChildComponent=function(t,e,o){var n=t;return e.forEach(function(t){n=n.getChildByName(t)}),n.getComponent(o)},e.prototype.getChildNode=function(t,e){var o=t;return e.forEach(function(t){o=o.getChildByName(t)}),o},e.prototype.buttonLock=function(t){t.interactable=!1},e.prototype.buttonUnlock=function(t){t.interactable=!0},r([s(cc.Label)],e.prototype,"playerBalance",void 0),r([s(cc.Label)],e.prototype,"winInfo",void 0),r([s(cc.Label)],e.prototype,"betInfo",void 0),r([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../net/ApiService":"ApiService"}],HomeFriendGame:[function(t,e,o){"use strict";cc._RF.push(e,"068dbKEeY5C27s80WREv7Ai","HomeFriendGame");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){},e.prototype.goPic=function(){cc.director.loadScene("Photo_gallery")},r([a],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],MGC_Interface:[function(t,e,o){"use strict";cc._RF.push(e,"35f98gkbilAe4/k0f7vM1vj","MGC_Interface"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.addCallbackOnEvent=function(t,e){this.Data.callbackOnEvent[e]=t},t.prototype.onEvent=function(t,e){this.Data.callbackOnEvent.hasOwnProperty(t)&&null!=this.Data.callbackOnEvent[t]&&this.Data.callbackOnEvent[t](e)},t.prototype.AppendMessage=function(t,e){console.log("=========="+t+"=========="),console.log(e)},t.prototype.b64DecodeUnicode=function(t){var e=atob(t);return JSON.parse(e)},t}();o.default=n,cc._RF.pop()},{}],Magnifying_mirror:[function(t,e,o){"use strict";cc._RF.push(e,"be85cfMx1hHyb/G3NykmB+I","Magnifying_mirror");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mirror=null,e.mirrorCameraNode=null,e.tempCameraSpriteNode=null,e.viewSize=null,e.touchStartPos=null,e.mirrorOriginPos=null,e}return i(e,t),e.prototype.onLoad=function(){this.viewSize=cc.view.getVisibleSize(),this.initCamera(),this.mirrorCameraNode.setPosition(this.mirror.getPosition()),this.node.on(cc.Node.EventType.TOUCH_START,this.touchStartEvent,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.touchMoveEvent,this)},e.prototype.touchStartEvent=function(t){this.touchStartPos=t.getLocation(),this.mirrorOriginPos=this.mirror.getPosition()},e.prototype.touchMoveEvent=function(t){var e=t.getLocation(),o=this.mirrorOriginPos.add(e.subtract(this.touchStartPos));this.mirror.setPosition(o),this.mirrorCameraNode.setPosition(o)},e.prototype.initCamera=function(){var t=cc.view.getVisibleSize(),e=new cc.RenderTexture;e.initWithSize(t.width,t.height);var o=new cc.SpriteFrame;o.setTexture(e),this.mirrorCameraNode.getComponent(cc.Camera).targetTexture=e,this.tempCameraSpriteNode.getComponent(cc.Sprite).spriteFrame=o,this.tempCameraSpriteNode.scaleY=-1},r([s(cc.Node)],e.prototype,"mirror",void 0),r([s(cc.Node)],e.prototype,"mirrorCameraNode",void 0),r([s(cc.Node)],e.prototype,"tempCameraSpriteNode",void 0),r([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],MsgControl:[function(t,e,o){"use strict";cc._RF.push(e,"021bbEwkfxOpr//e1arDDDL","MsgControl");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.closeMask=function(){this.node.active=!1},e.prototype.closeWindow=function(){window.close()},r([a],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],NumberTable:[function(t,e,o){"use strict";cc._RF.push(e,"dd185kFtUFEqb6jXy4aKtvZ","NumberTable"),Object.defineProperty(o,"__esModule",{value:!0}),o.NumberTable=void 0,function(t){t[t.red_bar=0]="red_bar",t[t.white_bar=1]="white_bar",t[t.blue_bar=2]="blue_bar",t[t.blue_7=3]="blue_7",t[t.white_7=4]="white_7",t[t.red_7=5]="red_7",t[t.wild=6]="wild"}(o.NumberTable||(o.NumberTable={})),cc._RF.pop()},{}],Photo_gallery:[function(t,e,o){"use strict";cc._RF.push(e,"26442Io+xpOVYLjZDK0EwlV","Photo_gallery");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.switchNodeList=[],e.fadeRadius=.1,e.isTransforming=!1,e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.switchNodeList.forEach(function(e,o){e.zIndex=t.switchNodeList.length-o})},e.prototype.bgTramsform=function(){var t=this;if(!this.isTransforming){this.isTransforming=!0;var e=0,o=this.switchNodeList[0],n=o.getComponent(cc.Sprite).getMaterial(0);n.setProperty("u_fade_radius",this.fadeRadius),n.setProperty("u_time",e),n.define("USE_TRAMSFORM",!0,0,!0);var i=setInterval(function(){e+=.03,n.setProperty("u_time",e),e>1+t.fadeRadius&&(t.switchNodeList.shift(),t.switchNodeList.push(o),t.switchNodeList.forEach(function(e,o){e.zIndex=t.switchNodeList.length-o}),n.define("USE_TRAMSFORM",!1,0,!0),t.isTransforming=!1,i&&clearInterval(i))},30)}},r([s([cc.Node])],e.prototype,"switchNodeList",void 0),r([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],Scratch_Game:[function(t,e,o){"use strict";cc._RF.push(e,"d959az7BlZBMJ6vh2WuLOsb","Scratch_Game");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../framework/template/GameTemplate"),a=t("./module/Scratch_MGC"),s=t("./module/Scratch_MGC_enum"),l=cc._decorator,p=l.ccclass,u=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.winAnimalNode=null,e.allClearNode=null,e.areaCount=4,e.allAreaStr=[],e.areaFish="",e.allClearButton=null,e.myMGC=new a.default,e}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.init()},e.prototype.init=function(){this.getMCG().addCallbackOnEvent(this.updateScratchoff.bind(this),s.MGC_enum.EventType.updateScratchoff),this.allClearButton=this.allClearNode.getComponent(cc.Button),this.initAreaStr(),cc.game.canvas.style.cursor="none"},e.prototype.getMCG=function(){return this.myMGC},e.prototype.initAreaStr=function(){for(var t=[],e=1;e<=this.areaCount;e++)t.push("S"+e);this.allAreaStr=t},e.prototype.sendBet=function(){if(this.getMCG().Data.winMoney=0,this.getMCG().Data.playerAmount<=0)this.showErrorMsg("\u91d1\u989d\u4e0d\u8db3");else{cc.find("Canvas/loading").active=!0,this.audioControl().playSound("buyOneBtnAudio",!1);var t=cc.find("Canvas/button_ui/btn_buy").getComponent(cc.Button);this.buttonLock(t),this.updateWinInfo(0),this.doSendBet(10,null)}},e.prototype.allClearBtn=function(){this.audioControl().playSound("btnAudio",!1);for(var t=1;t<=this.areaCount;t++)cc.find("Canvas/S"+t).getComponent("Scratch_Scratchoff").clearAllMask();this.scratchoffFinish(this.allAreaStr.join(""))},e.prototype.updateScratchoff=function(t){var e=this;Object.keys(t).forEach(function(o){cc.find("Canvas/"+o).getComponent("Scratch_Scratchoff").resetNewScratchoff(t[o],o,e.scratchoffFinish.bind(e))}),cc.find("Canvas/loading").active=!1,cc.find("Canvas/button_ui/btn_buy").active=!1,this.buttonUnlock(this.allClearButton),this.allClearNode.active=!0},e.prototype.scratchoffFinish=function(t){var e=this,o=!0;this.areaFish+=t,this.allAreaStr.forEach(function(t){-1==e.areaFish.indexOf(t)&&(o=!1)}),o&&(this.areaFish="",this.updateUserAmount(this.getMCG().Data.playerAmount),this.updateWinInfo(this.getMCG().Data.winMoney),this.getMCG().Data.winMoney>0?(this.audioControl().pauseAll(),this.audioControl().playSound("winAudio",!1,function(){e.resetBtnStatus(),e.hideWinAnimal(),e.audioControl().resumeAll()}),this.showWinAnimal(this.getMCG().Data.winMoney)):this.resetBtnStatus())},e.prototype.resetBtnStatus=function(){var t=cc.find("Canvas/button_ui/btn_buy");this.buttonUnlock(t.getComponent(cc.Button)),t.active=!0,this.buttonLock(this.allClearButton),this.allClearNode.active=!1},e.prototype.showWinAnimal=function(t){cc.find("Canvas/button_ui/btn_buy").active=!0,this.allClearNode.active=!1,this.winAnimalNode.active=!0,this.getChildComponent(this.winAnimalNode,["abg01","win_money"],cc.Label).string=String(t),this.getChildComponent(this.winAnimalNode,["abg01"],cc.Animation).play("win_anim").wrapMode=cc.WrapMode.Loop},e.prototype.hideWinAnimal=function(){this.winAnimalNode.active=!1,this.getChildComponent(this.winAnimalNode,["abg01"],cc.Animation).stop()},r([u(cc.Node)],e.prototype,"winAnimalNode",void 0),r([u(cc.Node)],e.prototype,"allClearNode",void 0),r([p],e)}(c.default);o.default=h,cc._RF.pop()},{"../framework/template/GameTemplate":"GameTemplate","./module/Scratch_MGC":"Scratch_MGC","./module/Scratch_MGC_enum":"Scratch_MGC_enum"}],Scratch_MGC_enum:[function(t,e,o){"use strict";cc._RF.push(e,"75f1e+ZvlFJnJZ4eaS5v/i5","Scratch_MGC_enum"),Object.defineProperty(o,"__esModule",{value:!0}),o.MGC_enum=void 0,function(t){(t.EventType||(t.EventType={})).updateScratchoff="updateScratchoff",t.Cmd_Type||(t.Cmd_Type={})}(o.MGC_enum||(o.MGC_enum={})),cc._RF.pop()},{}],Scratch_MGC_str:[function(t,e,o){"use strict";cc._RF.push(e,"b5226XC9D9JP7lrK6QeOmy+","Scratch_MGC_str"),Object.defineProperty(o,"__esModule",{value:!0}),o.MGC_str=void 0;o.MGC_str=function(){this.gameType="scratch",this.freeGameCount=0,this.areaId=0,this.nowPeriods="",this.playerAmount=0,this.playerName="",this.playerAcc="",this.winMoney=0,this.callbackOnEvent={},this.random=""},cc._RF.pop()},{}],Scratch_MGC:[function(t,e,o){"use strict";cc._RF.push(e,"f41b1mZIeJFAqR5ArCCWTFM","Scratch_MGC");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("./Scratch_MGC_str"),c=t("../../framework/template/Compute"),a=t("../../framework/template/MGC_Interface"),s=t("./Scratch_MGC_enum"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Data=new r.MGC_str,e}return i(e,t),e.prototype.Cmd_Callback=function(){throw new Error("Method not implemented.")},e.prototype.PeriodData_Callback=function(t){this.Data.nowPeriods=t.obj.periods},e.prototype.SendBet_Callback=function(t,e){e=this.b64DecodeUnicode(e),this.Data.playerAmount=parseInt(e.afterBalance),this.Data.winMoney=String(e.winMoney);var o=this.getAreaWin(e.winMoney);this.onEvent(s.MGC_enum.EventType.updateScratchoff,o)},e.prototype.getAreaWin=function(t){var e=String(t).split(""),o=t<10?5*c.Compute.getRandom(0,t/5):c.Compute.getRandom(0,e[0])*Math.pow(10,e.length-1),n=t-o,i=String(n).split(""),r=n<10?5*c.Compute.getRandom(0,n/5):Number(i[0])*Math.pow(10,i.length-1),a=5*c.Compute.getRandom(0,(t-r-o)/5);return{S1:o,S2:r,S3:a,S4:t-a-r-o}},e}(a.default);o.default=l,cc._RF.pop()},{"../../framework/template/Compute":"Compute","../../framework/template/MGC_Interface":"MGC_Interface","./Scratch_MGC_enum":"Scratch_MGC_enum","./Scratch_MGC_str":"Scratch_MGC_str"}],Scratch_MouseControl:[function(t,e,o){"use strict";cc._RF.push(e,"b06521rnPxKW6OKHG/MGsdH","Scratch_MouseControl");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pointSprite=null,e.AdControl=null,e.lastMove=cc.v2(-800,-800),e.ifPlayPart=!1,e}return i(e,t),e.prototype.start=function(){this.node.on(cc.Node.EventType.MOUSE_MOVE,this.mouseMoveEvent,this)},e.prototype.mouseMoveEvent=function(t){var e=this.node.convertToNodeSpaceAR(t.getLocation());this.pointSprite.active=!0,this.pointSprite.setPosition(e),this.lastMove=e},e.prototype.touchMoveEeffect=function(t){var e=this;this.AdControl.getComponent("AdControl").playSound("scratchoffAudio",!0);var o=this.node.convertToNodeSpaceAR(t.getLocation());this.ifPlayPart||(this.pointSprite.getComponent(cc.ParticleSystem).resetSystem(),this.ifPlayPart=!0),setTimeout(function(){e.lastMove.x==o.x&&e.lastMove.y==o.y&&(e.pointSprite.getComponent(cc.ParticleSystem).stopSystem(),e.ifPlayPart=!1)},100)},e.prototype.touchEndEeffect=function(){this.AdControl.getComponent("AdControl").pauseAudio("scratchoffAudio"),this.pointSprite.getComponent(cc.ParticleSystem).stopSystem(),this.ifPlayPart=!1},e.prototype.beforeDestroy=function(){this.node.off(cc.Node.EventType.MOUSE_MOVE,this.mouseMoveEvent,this)},r([s(cc.Node)],e.prototype,"pointSprite",void 0),r([s(cc.Node)],e.prototype,"AdControl",void 0),r([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],Scratch_Scratchoff:[function(t,e,o){"use strict";cc._RF.push(e,"59bb0LMNHNHHr6EoBR9/xkR","Scratch_Scratchoff");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../framework/template/Compute"),a=cc._decorator,s=a.ccclass,l=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.progerss=null,e.maskNode=null,e.maskCalGraphics=null,e.mouseControl=null,e.polygonPointsList=[],e.tempDrawPoints=[],e.calcDebugger=!1,e.scratchoffFinishTemp=null,e.maskG=null,e}return i(e,t),e.prototype.onLoad=function(){this.maskG=this.maskNode.getComponent(cc.Mask)._graphics,this.maskCalGraphics.on(cc.Node.EventType.TOUCH_START,this.touchStartEvent,this),this.maskCalGraphics.on(cc.Node.EventType.TOUCH_MOVE,this.touchMoveEvent,this),this.maskCalGraphics.on(cc.Node.EventType.TOUCH_END,this.touchEndEvent,this),this.maskCalGraphics.on(cc.Node.EventType.TOUCH_CANCEL,this.touchEndEvent,this)},e.prototype.start=function(){this.init()},e.prototype.beforeDestroy=function(){this.maskCalGraphics.off(cc.Node.EventType.TOUCH_START,this.touchStartEvent,this),this.maskCalGraphics.off(cc.Node.EventType.TOUCH_MOVE,this.touchMoveEvent,this),this.maskCalGraphics.off(cc.Node.EventType.TOUCH_END,this.touchEndEvent,this),this.maskCalGraphics.off(cc.Node.EventType.TOUCH_CANCEL,this.touchEndEvent,this)},e.prototype.init=function(){this.clearAllMask()},e.prototype.touchStartEvent=function(t){var e=this.maskCalGraphics.convertToNodeSpaceAR(t.getLocation());this.clearMask(e),this.checkScratchAll()},e.prototype.touchMoveEvent=function(t){var e=this.maskCalGraphics.convertToNodeSpaceAR(t.getLocation());this.clearMask(e),this.mouseControl.getComponent("Scratch_MouseControl").touchMoveEeffect(t),this.checkScratchAll()},e.prototype.checkScratchAll=function(){this.calcProgress()>=95&&null!=this.scratchoffFinishTemp&&(this.clearAllMask(),this.scratchoffFinishTemp(this.node.name),this.scratchoffFinishTemp=null)},e.prototype.touchEndEvent=function(){this.mouseControl.getComponent("Scratch_MouseControl").touchEndEeffect(),this.tempDrawPoints=[]},e.prototype.calcProgress=function(){var t=this,e=0,o=this.maskCalGraphics.getComponent(cc.Graphics);this.polygonPointsList.forEach(function(n){n.isHit&&(e+=1,t.calcDebugger&&(o.rect(n.rect.x,n.rect.y,n.rect.width,n.rect.height),o.fillColor=cc.color(216,18,18,255),o.fill()))});var n=Math.ceil(e/this.polygonPointsList.length*100);return this.progerss.string="\u5df2\u7d93\u522e\u958b\u4e86 "+n+"%",n},e.prototype.clearMask=function(t){var e=cc.color(0,0,0,255),o=this.tempDrawPoints.length;if(this.tempDrawPoints.push(t),o<=1)this.maskG.circle(t.x,t.y,15),this.maskG.fillColor=e,this.maskG.fill(),this.polygonPointsList.forEach(function(e){if(!e.isHit){var o=t.x>e.rect.x&&t.x<e.rect.x+e.rect.width,n=t.y>e.rect.y&&t.y<e.rect.y+e.rect.height;o&&n&&(e.isHit=!0)}});else{var n=this.tempDrawPoints[o-2],i=this.tempDrawPoints[o-1];this.maskG.moveTo(n.x,n.y),this.maskG.lineTo(i.x,i.y),this.maskG.lineWidth=30,this.maskG.lineCap=cc.Graphics.LineCap.ROUND,this.maskG.lineJoin=cc.Graphics.LineJoin.ROUND,this.maskG.strokeColor=e,this.maskG.stroke(),this.polygonPointsList.forEach(function(t){t.isHit=t.isHit||cc.Intersection.lineRect(n,i,t.rect)})}},e.prototype.clearAllMask=function(){this.maskG.fillRect(-this.maskCalGraphics.width/2,-this.maskCalGraphics.height/2,this.maskCalGraphics.width,this.maskCalGraphics.height),this.maskG.fillColor=cc.color(0,0,0,255),this.maskG.fill()},e.prototype.resetNewScratchoff=function(t,e,o){var n=this;this.maskG.clear(),this.tempDrawPoints=[],this.polygonPointsList=[],this.progerss.string="\u5df2\u7ecf\u522e\u5f00\u4e86 0%",this.maskCalGraphics.getComponent(cc.Graphics).clear(),this.maskCalGraphics.children.forEach(function(t){if(t.name.indexOf("icon")>-1)for(var e=t.x-t.width/2;e<t.x+t.width/2;e+=30)for(var o=t.y-t.height/2;o<t.y+t.height/2;o+=30)n.polygonPointsList.push({rect:cc.rect(e,o,30,30),isHit:!1,name:t.name})}),this.updateAreaNumber(t,e),this.scratchoffFinishTemp=o},e.prototype.updateAreaNumber=function(t,e){var o=["\ud83c\udf4f","\ud83c\udf4e","\ud83c\udf50","\ud83c\udf4a","\ud83c\udf4b","\ud83c\udf4c","\ud83c\udf49","\ud83c\udf47","\ud83c\udf53","\ud83c\udf48","\ud83c\udf52","\ud83c\udf51","\ud83e\udd6d","\ud83c\udf4d","\ud83e\udd65","\ud83e\udd5d","\ud83c\udf45","\ud83e\udd51"],n=[5,10,100,1e3,5e3,1e4,5e4,1e5,5e5];switch(e){case"S1":for(var i=3,r=t,a=1;a<i+1;a++){var s=String(o[c.Compute.getRandom(0,17)]),l=[];if((f=r)>=1e4?r-=f-=f%1e4:f>=1e3&&(r-=f-=f%1e3),a!=i&&f<1e3){var p=String(r).split(""),u=c.Compute.getRandom(0,p[0])*Math.pow(10,p.length-1);r-=f=r>10?u:r}var h=this.node.getChildByName("info").getChildByName("R"+a).children;0==f?h.forEach(function(t,e){if(e!=h.length-1){for(var i=c.Compute.getRandom(0,17);l.indexOf(i)>-1;)i=c.Compute.getRandom(0,17);l.push(i),t.children[0].getComponent(cc.Label).string=String(o[i])}else{var r=n[c.Compute.getRandom(0,8)]*c.Compute.getRandom(1,9);r>=1e4?(t.children[0].getComponent(cc.Label).fontSize=30,t.children[0].getComponent(cc.Label).string=String(r/1e4+"\u4e07")):r>=1e3?(t.children[0].getComponent(cc.Label).fontSize=30,t.children[0].getComponent(cc.Label).string=String(r/1e3+"\u4edf")):t.children[0].getComponent(cc.Label).string=String(r)}}):h.forEach(function(t,e){e==h.length-1?f>=1e3?(t.children[0].getComponent(cc.Label).fontSize=30,4==String(f).split("").length?t.children[0].getComponent(cc.Label).string=String(f/1e3)+"\u4edf":t.children[0].getComponent(cc.Label).string=String(f/1e4)+"\u4e07"):t.children[0].getComponent(cc.Label).string=String(f):t.children[0].getComponent(cc.Label).string=s})}break;case"S2":i=3,r=t;var d=c.Compute.getRandom(0,99);for((C=this.node.getChildByName("Box0")).getChildByName("number0").getComponent(cc.Label).string=String(d),a=1;a<i+1;a++){var f;(f=r)>=1e4?r-=f-=f%1e4:f>=1e3&&(r-=f-=f%1e3),a!=i&&f<1e3&&(p=String(r).split(""),u=c.Compute.getRandom(0,p[0])*Math.pow(10,p.length-1),r-=f=r>10?u:r);var m=C.getChildByName("number"+a);if(0==f){for(var y=c.Compute.getRandom(0,99);y==d;)y=c.Compute.getRandom(0,99);m.getComponent(cc.Label).string=String(y);var _=n[c.Compute.getRandom(0,8)]*c.Compute.getRandom(1,9);_>=1e4?(m.getComponent(cc.Label).fontSize=20,m.children[0].getComponent(cc.Label).string=String(_/1e4+"\u4e07")):_>=1e3?(m.getComponent(cc.Label).fontSize=20,m.children[0].getComponent(cc.Label).string=String(_/1e3+"\u4edf")):m.children[0].getComponent(cc.Label).string=String(_)}else m.getComponent(cc.Label).string=String(d),f>=1e3?(m.getComponent(cc.Label).fontSize=20,4==String(f).split("").length?m.children[0].getComponent(cc.Label).string=String(f/1e3)+"\u4edf":m.children[0].getComponent(cc.Label).string=String(f/1e4)+"\u4e07"):m.children[0].getComponent(cc.Label).string=String(f)}break;case"S3":i=3;var C=this.node.getChildByName("Box0");for(l=[],a=0;a<i;a++){var g=t;if(m=C.getChildByName("number"+a),g>0)if(g>=1e3){var b="";m.getComponent(cc.Label).fontSize=20,g>=1e4&&(b=b+Math.floor(g/1e4)+"\u4e07",g%=1e4),g>=1e3&&(b=b+Math.floor(g/1e3)+"\u5343",g%=1e3),g<1e3&&(b+=String(g)),m.getComponent(cc.Label).string=b}else m.getComponent(cc.Label).string=String(t);else{for(y=n[2]*c.Compute.getRandom(1,9);l.indexOf(y)>-1;)y=n[2]*c.Compute.getRandom(1,9);m.getComponent(cc.Label).string=String(y)}}break;case"S4":this.node.getChildByName("Box0").getChildByName("number0").getComponent(cc.Label).string=String(t)}},r([l(cc.Label)],e.prototype,"progerss",void 0),r([l(cc.Node)],e.prototype,"maskNode",void 0),r([l(cc.Node)],e.prototype,"maskCalGraphics",void 0),r([l(cc.Node)],e.prototype,"mouseControl",void 0),r([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../framework/template/Compute":"Compute"}],Scratch_winCircleAnima:[function(t,e,o){"use strict";cc._RF.push(e,"9413eyOg7xLFau26ywvcz70","Scratch_winCircleAnima");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ani=null,e}return i(e,t),e.prototype.playAnimation=function(){this.node.getComponent(cc.Animation).play("roll_coin")},r([s(cc.Animation)],e.prototype,"ani",void 0),r([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],Slot2_DashboardControl:[function(t,e,o){"use strict";cc._RF.push(e,"f9b3e1ui1pCgaU2KJnuzPrN","Slot2_DashboardControl");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../framework/template/DSBCInterface"),a=cc._decorator,s=a.ccclass,l=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dashboardNode=null,e.numberPrefab=null,e.posArr=["one_pos","two_pos","three_pos","four_pos","five_pos","six_pos","seven_pos","eight_pos"],e}return i(e,t),e.prototype.onLoad=function(){this.init()},e.prototype.init=function(){this.spawnNum(this.dashboardNode.getChildByName("bet"),1),this.spawnNum(this.dashboardNode.getChildByName("win"),7),this.spawnNum(this.dashboardNode.getChildByName("pool"),7),this.initDashboard(this.dashboardNode.getChildByName("bet")),this.initDashboard(this.dashboardNode.getChildByName("win")),this.initDashboard(this.dashboardNode.getChildByName("pool")),this.dashboardChangeNum(this.dashboardNode.getChildByName("bet"),2,.1)},e.prototype.spawnNum=function(t,e){for(var o=0;o<e;o++){var n=cc.instantiate(this.numberPrefab);t.getChildByName(this.posArr[o]).addChild(n),n.setPosition(cc.v2(0,0))}},e.prototype.initDashboard=function(t){for(var e=0;e<t.children.length;e++){var o=t.getChildByName(this.posArr[t.children.length-1-e]);null!=o&&null!=o&&o.children[0].getComponent(cc.PageView).scrollToPage(9,0)}},e.prototype.dashboardChangeNum=function(t,e,o){for(var n=String(e).split(""),i=0;i<t.children.length;i++){var r=t.getChildByName(this.posArr[t.children.length-1-i]);null!=r&&null!=r&&(r.children[0].getComponent(cc.PageView).getCurrentPageIndex(),r.children[0].getComponent(cc.PageView).scrollToPage(9,0))}for(var c=0;c<n.length;c++){var a=t.getChildByName(this.posArr[n.length-1-c]);null!=a&&null!=a&&a.children[0].getComponent(cc.PageView).scrollToPage(9-Number(n[c]),o)}},r([l(cc.Node)],e.prototype,"dashboardNode",void 0),r([l(cc.Prefab)],e.prototype,"numberPrefab",void 0),r([s],e)}(c.default);o.default=p,cc._RF.pop()},{"../framework/template/DSBCInterface":"DSBCInterface"}],Slot2_Game:[function(t,e,o){"use strict";cc._RF.push(e,"479acXmqHBEF5Xeq97dPWAE","Slot2_Game");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../framework/template/GameTemplate"),a=t("./module/Slot2_MGC"),s=t("./module/Slot2_MGC_enum"),l=t("../framework/template/DSBCInterface"),p=t("./config/NumberTable"),u=cc._decorator,h=u.ccclass,d=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.DashboardControl=null,e.reelsArray=[],e.betArray=[2,3,4,5,6,7,8,9],e.betArrayIndex=0,e.BonusPoolTemp=0,e.myMGC=new a.default,e.bonusPoolUpdateRate=5e3,e}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.init()},e.prototype.init=function(){this.initReel(),this.getMCG().addCallbackOnEvent(this.updateBonusPool.bind(this),s.MGC_enum.EventType.updateBonusPool),this.getMCG().addCallbackOnEvent(this.reelRunAnim.bind(this),s.MGC_enum.EventType.reelRunAnim),this.getBonusPool()},e.prototype.getMCG=function(){return this.myMGC},e.prototype.initReel=function(){var t=this;cc.find("Canvas/reels").children.forEach(function(e){t.reelsArray.push(e)})},e.prototype.getBonusPool=function(){this.doCmd(s.MGC_enum.Cmd_Type.GetBouns,null,!0)},e.prototype.updateWinHandle=function(t){this.DashboardControl.dashboardChangeNum(cc.find("Canvas/monitor_background/dashboard/win"),t,2)},e.prototype.updateBonusPool=function(t){var e=this;t>=0&&t!=this.BonusPoolTemp&&(this.BonusPoolTemp=t,this.DashboardControl.dashboardChangeNum(cc.find("Canvas/monitor_background/dashboard/pool"),t,2)),setTimeout(function(){e.getBonusPool()},this.bonusPoolUpdateRate)},e.prototype.sendBet=function(){var t=this;this.getMCG().Data.playerAmount<=0?this.showErrorMsg("\u91d1\u989d\u4e0d\u8db3"):(cc.find("Canvas/loading").active=!0,this.audioControl().playSound("buyOneBtnAudio",!1),cc.find("Canvas/button_ui").children.forEach(function(e){t.buttonLock(e.getComponent(cc.Button))}),this.doSendBet(this.betArray[this.betArrayIndex],null))},e.prototype.reelRunAnim=function(t){var e=this;cc.find("Canvas/loading").active=!1;var o=0;this.audioControl().playSound("rolling",!1),this.reelsArray.forEach(function(n){var i=1+1/(o+1),r=!1;n==e.reelsArray[e.reelsArray.length-1]&&(r=!0),null==p.NumberTable[t[o]]||null==p.NumberTable[t[o]]?(e.showErrorMsg("\u53d1\u751f\u9519\u8bef!"),e.audioControl().playSound("winNumberAudio",!1),e.audioControl().stopAudio("rolling"),e.audioControl().playSound("rollingStop",!1)):(n.children[0].getComponent("Slot2_ReelControl").PlayRun(p.NumberTable[t[o]],i.toFixed(1),e.reelRunAnimFinsh.bind(e),r),o++)})},e.prototype.reelRunAnimFinsh=function(t,e){var o=this;1==e?(cc.find("Canvas/button_ui").children.forEach(function(t){o.buttonUnlock(t.getComponent(cc.Button))}),this.updateUserAmount(this.getMCG().Data.playerAmount),this.updateWinInfo(this.getMCG().Data.winMoney),this.audioControl().playSound("winNumberAudio",!1),this.audioControl().stopAudio("rolling"),this.audioControl().playSound("rollingStop",!1)):this.audioControl().playSound("rollingStop",!1)},e.prototype.updateWinInfo=function(t){t>=0&&this.DashboardControl.dashboardChangeNum(cc.find("Canvas/monitor_background/dashboard/win"),t,1)},e.prototype.addBetBtn=function(){this.audioControl().playSound("BtnAudio",!1),this.betArrayIndex=this.betArrayIndex+1>this.betArray.length-1?0:this.betArrayIndex+1,this.DashboardControl.dashboardChangeNum(cc.find("Canvas/monitor_background/dashboard/bet"),this.betArray[this.betArrayIndex],.1)},r([d(l.default)],e.prototype,"DashboardControl",void 0),r([h],e)}(c.default);o.default=f,cc._RF.pop()},{"../framework/template/DSBCInterface":"DSBCInterface","../framework/template/GameTemplate":"GameTemplate","./config/NumberTable":"NumberTable","./module/Slot2_MGC":"Slot2_MGC","./module/Slot2_MGC_enum":"Slot2_MGC_enum"}],Slot2_MGC_enum:[function(t,e,o){"use strict";cc._RF.push(e,"84422Ampa5Jr754PFjkPpz4","Slot2_MGC_enum"),Object.defineProperty(o,"__esModule",{value:!0}),o.MGC_enum=void 0,function(t){(function(t){t.updateBonusPool="updateBonusPool",t.reelRunAnim="reelRunAnim"})(t.EventType||(t.EventType={})),(t.Cmd_Type||(t.Cmd_Type={})).GetBouns="GetBouns"}(o.MGC_enum||(o.MGC_enum={})),cc._RF.pop()},{}],Slot2_MGC_str:[function(t,e,o){"use strict";cc._RF.push(e,"aa73eZa/+ZICauXDsMZb1kE","Slot2_MGC_str"),Object.defineProperty(o,"__esModule",{value:!0}),o.MGC_str=void 0;o.MGC_str=function(){this.gameType="scratch",this.freeGameCount=0,this.areaId=0,this.nowPeriods="",this.winMoney=0,this.callbackOnEvent={},this.boundPool=1e4,this.random=""},cc._RF.pop()},{}],Slot2_MGC:[function(t,e,o){"use strict";cc._RF.push(e,"e4410QdPvpHRbWJCxIIY9LG","Slot2_MGC");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("./Slot2_MGC_str"),c=t("../../framework/template/MGC_Interface"),a=t("./Slot2_MGC_enum"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Data=new r.MGC_str,e}return i(e,t),e.prototype.PeriodData_Callback=function(t){this.Data.nowPeriods=t.periods},e.prototype.SendBet_Callback=function(t,e){e=this.b64DecodeUnicode(e),this.Data.playerAmount=parseInt(e.afterBalance),this.Data.winMoney=String(e.winMoney);var o=e.link.split(",");this.onEvent("reelRunAnim",o)},e.prototype.Cmd_Callback=function(t,e){switch(t){case a.MGC_enum.Cmd_Type.GetBouns.toString():this.Data.boundPool=parseInt(e.bouns),this.onEvent(a.MGC_enum.EventType.updateBonusPool,Number(this.Data.boundPool))}},e}(c.default);o.default=s,cc._RF.pop()},{"../../framework/template/MGC_Interface":"MGC_Interface","./Slot2_MGC_enum":"Slot2_MGC_enum","./Slot2_MGC_str":"Slot2_MGC_str"}],Slot2_ReelControl:[function(t,e,o){"use strict";cc._RF.push(e,"4217eKgNJ1DJo3da70lH8S6","Slot2_ReelControl");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stopNumbTemp="",e.animFinshCallbackTemp=null,e.ifLastAnTemp=!1,e}return i(e,t),e.prototype.animStopExcute=function(){this.animFinshCallbackTemp(this.stopNumbTemp,this.ifLastAnTemp)},e.prototype.PlayRun=function(t,e,o,n){this.stopNumbTemp=t,this.ifLastAnTemp=n,this.animFinshCallbackTemp=o,this.node.getComponent(cc.Animation).playAdditive(t).speed=e},r([a],e)}(cc.Component));o.default=s,cc._RF.pop()},{}]},{},["Magnifying_mirror","Photo_gallery","BlackJack_Card","BlackJack_CardsControl","BlackJack_DealCard","BlackJack_Game","BlackJack_TossChip","BlackJack_MGC","BlackJack_MGC_enum","BlackJack_MGC_str","Ajax","AdViewControl","HomeFriendGame","Scratch_Game","Scratch_MouseControl","Scratch_Scratchoff","Scratch_winCircleAnima","Scratch_MGC","Scratch_MGC_enum","Scratch_MGC_str","Slot2_DashboardControl","Slot2_Game","Slot2_ReelControl","NumberTable","Slot2_MGC","Slot2_MGC_enum","Slot2_MGC_str","AdControl","AudioSetting","BombAnimation","ClearUp","CountDown","MsgControl","AjaxCall","ApiService","Compute","DSBCInterface","GameInterface","GameTemplate","MGC_Interface"]);